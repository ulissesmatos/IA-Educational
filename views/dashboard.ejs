<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title><%= title %></title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="/css/custom.css">
</head>
<body class="gradient-bg min-h-screen">
  
  <div class="container container-lg" style="padding-top: 3rem; padding-bottom: 3rem;">
    
    <!-- Header Ultra Moderno -->
    <header class="text-center mb-16 animate-fadeInDown">
      <div style="display: inline-flex; align-items: center; justify-content: center; width: 72px; height: 72px; background: var(--accent-primary); border-radius: var(--radius-xl); margin-bottom: 1.5rem; color: white; box-shadow: 0 8px 20px rgba(37, 99, 235, 0.2);">
        <%- include('icons/cpu-chip', { size: 40 }) %>
      </div>
      <h1 class="text-display mb-4" style="background: linear-gradient(135deg, var(--text-primary) 0%, var(--text-secondary) 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text;">IA na Educação</h1>
      <p class="text-body" style="max-width: 600px; margin: 0 auto; color: var(--text-secondary); line-height: 1.7; margin-bottom: 2rem;">
        Ferramentas e recursos para explorar Inteligência Artificial no contexto educacional
      </p>
    </header>

    <!-- Spotlight Cards Grid -->
    <div class="grid animate-fadeInUp" style="grid-template-columns: repeat(auto-fit, minmax(340px, 1fr)); gap: 2rem; max-width: 900px; margin: 0 auto 1rem auto; animation-delay: 100ms;">
      
      <!-- Card: Jogo IA ou Não -->
      <a href="/jogo" class="spotlight-card" data-spotlight style="text-decoration: none; padding: 2.25rem;">
        <div class="spotlight-card-content">
          <div class="flex items-start gap-4 mb-6">
            <div style="display: flex; align-items: center; justify-content: center; width: 52px; height: 52px; background: var(--accent-subtle); border-radius: var(--radius-lg); flex-shrink: 0; color: var(--accent-primary);">
              <%- include('icons/puzzle-piece', { size: 26 }) %>
            </div>
            <div style="flex: 1;">
              <div class="flex items-center gap-2 mb-2">
                <h2 class="text-title">IA ou Não?</h2>
                <span class="badge badge-success">JOGO</span>
              </div>
              <p class="text-body" style="line-height: 1.6;">
                Quiz interativo para testar se você consegue distinguir conteúdo criado por IA de conteúdo humano.
              </p>
            </div>
          </div>
          <div class="flex gap-2 flex-wrap mb-6">
            <span class="badge badge-neutral" style="font-size: 0.75rem; display: inline-flex; align-items: center; gap: 4px;">
              <%- include('icons/photo', { size: 12 }) %> Imagens
            </span>
            <span class="badge badge-neutral" style="font-size: 0.75rem; display: inline-flex; align-items: center; gap: 4px;">
              <%- include('icons/document-text', { size: 12 }) %> Textos
            </span>
            <span class="badge badge-neutral" style="font-size: 0.75rem; display: inline-flex; align-items: center; gap: 4px;">
              <%- include('icons/magnifying-glass', { size: 12 }) %> Alucinações
            </span>
          </div>
          <div style="padding-top: 1rem; border-top: 1px solid var(--border-light);">
            <span class="text-small" style="color: var(--accent-primary); font-weight: 500; display: inline-flex; align-items: center; gap: 4px;">
              Jogar agora <%- include('icons/arrow-right', { size: 14 }) %>
            </span>
          </div>
        </div>
      </a>

      <!-- Card: Catálogo de IAs -->
      <a href="/ias" class="spotlight-card" data-spotlight style="text-decoration: none; padding: 2.25rem;">
        <div class="spotlight-card-content">
          <div class="flex items-start gap-4 mb-6">
            <div style="display: flex; align-items: center; justify-content: center; width: 52px; height: 52px; background: var(--accent-subtle); border-radius: var(--radius-lg); flex-shrink: 0; color: var(--accent-primary);">
              <%- include('icons/book-open', { size: 26 }) %>
            </div>
            <div style="flex: 1;">
              <div class="flex items-center gap-2 mb-2">
                <h2 class="text-title">Catálogo de IAs</h2>
                <span class="badge badge-primary">NOVO</span>
              </div>
              <p class="text-body" style="line-height: 1.6;">
                Explore ferramentas de IA úteis para educação, organizadas por categoria e modelo de preço.
              </p>
            </div>
          </div>
          <div class="flex gap-2 flex-wrap mb-6">
            <% categories.slice(0, 3).forEach(function(cat) { %>
              <span class="badge badge-neutral" style="font-size: 0.75rem;"><%= cat.name %></span>
            <% }); %>
            <% if (categories.length > 3) { %>
              <span class="badge badge-neutral" style="font-size: 0.75rem;">+<%= categories.length - 3 %></span>
            <% } %>
          </div>
          <div style="padding-top: 1rem; border-top: 1px solid var(--border-light);">
            <span class="text-small" style="color: var(--accent-primary); font-weight: 500; display: inline-flex; align-items: center; gap: 4px;">
              Ver todas as ferramentas <%- include('icons/arrow-right', { size: 14 }) %>
            </span>
          </div>
        </div>
      </a>
    </div>

    <!-- Featured Tools Section -->
    <% if (featuredTools && featuredTools.length > 0) { %>
    <section class="animate-fadeInUp" style="animation-delay: 200ms; padding-top: 1rem; padding-bottom: 1rem; border-top: 1px solid var(--border-light);">
      <div class="flex items-center justify-between mb-8">
        <h2 class="text-headline" style="display: flex; align-items: center; gap: 10px;">
          <div style="display: flex; align-items: center; justify-content: center; width: 32px; height: 32px; background: var(--warning-bg); border-radius: var(--radius-md); color: var(--warning);">
            <%- include('icons/star', { size: 18 }) %>
          </div>
          <span>IAs em Destaque</span>
        </h2>
        <a href="/ias" class="btn btn-ghost btn-sm" style="display: inline-flex; align-items: center; gap: 4px;">
          Ver todas <%- include('icons/arrow-right', { size: 14 }) %>
        </a>
      </div>
      
      <div class="grid" style="grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 1.25rem;">
        <% featuredTools.slice(0, 6).forEach(function(tool) { %>
          <a href="/ias/<%= tool.slug %>" class="card card-hover" data-featured-tool style="text-decoration: none; padding: 1.75rem;">
            <div class="flex items-start gap-3 mb-4">
              <% if (tool.logoUrl) { %>
                <img src="<%= tool.logoUrl %>" alt="<%= tool.name %>" 
                     style="width: 48px; height: 48px; border-radius: var(--radius-md); object-fit: contain; background: var(--bg-tertiary); padding: 8px; flex-shrink: 0;"
                     onerror="this.style.display='none'; this.nextElementSibling.style.display='flex';">
                <div style="display: none; width: 48px; height: 48px; border-radius: var(--radius-md); background: var(--bg-tertiary); align-items: center; justify-content: center; flex-shrink: 0; color: var(--text-muted);">
                  <%- include('icons/cpu-chip', { size: 24 }) %>
                </div>
              <% } else { %>
                <div style="width: 48px; height: 48px; border-radius: var(--radius-md); background: var(--bg-tertiary); display: flex; align-items: center; justify-content: center; flex-shrink: 0; color: var(--text-muted);">
                  <%- include('icons/cpu-chip', { size: 24 }) %>
                </div>
              <% } %>
              <div style="flex: 1; min-width: 0;">
                <h3 class="text-title" style="font-size: 1rem; margin-bottom: 0.375rem;"><%= tool.name %></h3>
                <p class="text-small" style="color: var(--text-muted); display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden; line-height: 1.5;">
                  <%= tool.shortDesc %>
                </p>
              </div>
            </div>
            <div class="flex items-center gap-2">
              <% if (tool.pricingType === 'FREE') { %>
                <span class="badge badge-success" style="font-size: 0.7rem; display: inline-flex; align-items: center; gap: 3px;">
                  <%- include('icons/check-circle', { size: 11 }) %> Grátis
                </span>
              <% } else if (tool.pricingType === 'FREEMIUM') { %>
                <span class="badge badge-warning" style="font-size: 0.7rem; display: inline-flex; align-items: center; gap: 3px;">
                  <%- include('icons/minus-circle', { size: 11 }) %> Freemium
                </span>
              <% } else { %>
                <span class="badge badge-error" style="font-size: 0.7rem; display: inline-flex; align-items: center; gap: 3px;">
                  <%- include('icons/currency-dollar', { size: 11 }) %> Pago
                </span>
              <% } %>
              <span class="badge badge-neutral" style="font-size: 0.7rem;"><%= tool.categoryName %></span>
            </div>
          </a>
        <% }); %>
      </div>
    </section>
    <% } %>

    <!-- Stats Section -->
    <section class="animate-fadeInUp" style="animation-delay: 300ms; padding-top: 1rem; padding-bottom: 1rem; border-top: 1px solid var(--border-light);">
      <div class="card" style="padding: 2.5rem;">
        <div class="grid" style="grid-template-columns: repeat(auto-fit, minmax(160px, 1fr)); gap: 2.5rem; text-align: center;">
          <div>
            <div style="font-size: 2.5rem; font-weight: 700; color: var(--accent-primary); margin-bottom: 0.5rem; letter-spacing: -0.02em;">
              <%= categories.reduce((sum, c) => sum + c.toolCount, 0) %>
            </div>
            <div class="text-caption" style="display: flex; align-items: center; justify-content: center; gap: 6px;">
              <%- include('icons/cpu-chip', { size: 16 }) %> Ferramentas
            </div>
          </div>
          <div>
            <div style="font-size: 2.5rem; font-weight: 700; color: var(--success); margin-bottom: 0.5rem; letter-spacing: -0.02em;">
              <%= stats.FREE + stats.FREEMIUM %>
            </div>
            <div class="text-caption" style="display: flex; align-items: center; justify-content: center; gap: 6px;">
              <%- include('icons/check-circle', { size: 16 }) %> Com opção grátis
            </div>
          </div>
          <div>
            <div style="font-size: 2.5rem; font-weight: 700; color: var(--warning); margin-bottom: 0.5rem; letter-spacing: -0.02em;">
              <%= categories.length %>
            </div>
            <div class="text-caption" style="display: flex; align-items: center; justify-content: center; gap: 6px;">
              <%- include('icons/folder', { size: 16 }) %> Categorias
            </div>
          </div>
          <div>
            <div style="font-size: 2.5rem; font-weight: 700; color: var(--accent-dark); margin-bottom: 0.5rem; letter-spacing: -0.02em;">
              <%= featuredTools.length %>
            </div>
            <div class="text-caption" style="display: flex; align-items: center; justify-content: center; gap: 6px;">
              <%- include('icons/star', { size: 16 }) %> Em destaque
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Categories Quick Access -->
    <section class="animate-fadeInUp" style="animation-delay: 400ms; padding-top: 1rem; padding-bottom: 1rem; border-top: 1px solid var(--border-light);">
      <h2 class="text-headline mb-8" style="display: flex; align-items: center; gap: 10px;">
        <div style="display: flex; align-items: center; justify-content: center; width: 32px; height: 32px; background: var(--accent-subtle); border-radius: var(--radius-md); color: var(--accent-primary);">
          <%- include('icons/folder', { size: 18 }) %>
        </div>
        <span>Categorias</span>
      </h2>
      <div class="flex flex-wrap" style="gap: 1rem;">
        <% categories.forEach(function(cat) { %>
          <a href="/ias?categoria=<%= cat.slug %>" class="card card-hover" style="text-decoration: none; padding: 1rem 1.375rem; display: inline-flex; align-items: center; gap: 0.75rem;">
            <span class="text-body" style="font-weight: 500; font-size: 0.9375rem;"><%= cat.name %></span>
            <span class="badge badge-neutral" style="font-size: 0.75rem;"><%= cat.toolCount %></span>
          </a>
        <% }); %>
      </div>
    </section>

    <!-- Footer -->
    <footer class="text-center" style="padding-top: 4rem; padding-bottom: 3rem; border-top: 1px solid var(--border-light);">
      <p class="text-caption" style="display: flex; align-items: center; justify-content: center; gap: 8px; opacity: 0.7;">
        <%- include('icons/academic-cap', { size: 18 }) %>
        Desenvolvido para a oficina "IA na Educação"
      </p>
    </footer>
  </div>

  <!-- Spotlight Effect Script -->
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      // Spotlight effect for cards
      const spotlightCards = document.querySelectorAll('[data-spotlight]');
      
      spotlightCards.forEach(card => {
        card.addEventListener('mousemove', function(e) {
          const rect = card.getBoundingClientRect();
          const x = ((e.clientX - rect.left) / rect.width) * 100;
          const y = ((e.clientY - rect.top) / rect.height) * 100;
          
          card.style.setProperty('--mouse-x', x + '%');
          card.style.setProperty('--mouse-y', y + '%');
        });
        
        card.addEventListener('mouseleave', function() {
          card.style.setProperty('--mouse-x', '50%');
          card.style.setProperty('--mouse-y', '50%');
        });
      });

      // Stagger animation for featured tools
      const featuredTools = document.querySelectorAll('[data-featured-tool]');
      featuredTools.forEach((tool, index) => {
        setTimeout(() => {
          tool.style.opacity = '1';
          tool.style.transform = 'translateY(0)';
        }, 200 + (index * 80));
      });
    });
  </script>

  <style>
    .grid {
      display: grid;
    }
    .min-h-screen {
      min-height: 100vh;
    }
    
    [data-featured-tool] {
      opacity: 0;
      transform: translateY(20px);
      transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    }
    
    /* Responsividade para grids */
    @media (max-width: 768px) {
      .grid {
        grid-template-columns: 1fr !important;
        gap: 1rem !important;
      }
    }
    
    @media (max-width: 480px) {
      .spotlight-card {
        padding: 1.5rem !important;
      }
    }
  </style>
</body>
</html>
